shared_buildings_water_base:
	Inherits: ^CoreBuilding
	Tooltip:
		Name: Water Base
	Health:
		HP: 900
	# Power is defined on the dock actor, the main building's power is just faked.
	-Power:
	Building:
		Dimensions: 3,3
		Footprint: xx= xx= ===
		TerrainTypes: Clear, Shore, Road
		LocalCenterOffset: -524,-680,0
	BuildingCrew:
		MaxPopulation: 4
		InitialUnits: shared_infantry_civil2, shared_infantry_civil2
	TransformSequence:
		Offset: 512,570,0
	HitShape:
		UseTargetableCellsOffsets: True
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
	Selectable:
		Bounds: 2064, 1984, 0,220
	NotifyRepairCallback:
	WaterBaseBuilding:
	RepairableBuilding:
		# TODO: remove after power is implemented
		-RequiresCondition:
	ProvidesPrerequisite:
	GrantConditionOnDamageState:
		Condition: damaged
	# Water Base has loose remappable pixels when it's damaged. This overlay sprite covers that.
	WithIdleOverlay@Patch:
		Sequence: patch
		Offset: 0,-16,0
		RequiresCondition: !Transforming && damaged
	Encyclopedia:
		Category: Shared - Buildings
		Order: 7
		Animation: DATABASE/X07.FLC
		Title: Harbor & Dockyard
		Armor: Medium
		Armament: None
		Resistance: Very good
		Description: The WATER BASE is where ships and boats are built.\n\nIt consists of control center and dockyard plus a launching dock. A WATER BASE can only be built at the waterâ€™s edge, and requires enough space for the lock from which to launch the vessels.

shared_mcu_water_base:
	Inherits@1: ^SharedVehicleMcu
	Tooltip:
		Name: Mobile Water Base
	-Transforms:
	WaterBaseTransforms:
		IntoActor: shared_buildings_water_base
		DockActor: shared_buildings_water_base_dock
		Offset: -1, -1
		DeployBlockedCursor: generic-blocked
		Facing: 512
		Voice: Unload
	# Water Base has custom MCU deploy overlay.
	WaterBaseMcuDeployOverlay:
	Valued:
		Cost: 1200
	Buildable:
		IconPalette:
		Queue: Building.UCS, Building.ED
		BuildDuration: 113
		BuildPaletteOrder: 80
		Prerequisites: Engine
	WithTextDecoration:
		Text: Water Base
